<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GAAK SUPLEMENTOS | Admin</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700&family=Oswald:wght@300;400;500;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="admin.css" />
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>
  <div class="dashboard">
    <aside class="sidebar">
      <div class="sidebar-brand">
        <div class="logo-mark">GS</div>
        <div>
          <strong>GAAK SUPLEMENTOS</strong>
          <small>Painel</small>
        </div>
      </div>
      <nav class="sidebar-nav">
        <button class="sidebar-link active" data-section="dashboard-section">
          <ion-icon name="grid-outline"></ion-icon>
          Dashboard
        </button>
        <button class="sidebar-link" data-section="catalogo-section">
          <ion-icon name="bag-outline"></ion-icon>
          Produtos
        </button>
        <button class="sidebar-link" data-section="vendas-section">
          <ion-icon name="cash-outline"></ion-icon>
          Vendas
        </button>
        <button class="sidebar-link" data-section="cupons-section">
          <ion-icon name="ticket-outline"></ion-icon>
          Cupons
        </button>
      </nav>
      <div class="sidebar-footer">
        <a class="ghost" href="index.html">Voltar ao site</a>
      </div>
    </aside>

    <main class="main">
      <header class="main-header">
        <div>
          <h1>Dashboard</h1>
          <p class="admin-muted">Visao geral do negocio.</p>
        </div>
      </header>

      <section class="section-panel active" id="dashboard-section">
        <div class="metrics-grid">
          <div class="metric-card">
            <span>Clientes</span>
            <strong id="metric-clients">0</strong>
          </div>
          <div class="metric-card">
            <span>Produtos</span>
            <strong id="metric-products">0</strong>
          </div>
          <div class="metric-card">
            <span>Vendas hoje</span>
            <strong id="metric-sales-today">0</strong>
          </div>
          <div class="metric-card">
            <span>Faturamento hoje</span>
            <strong id="metric-revenue-today">R$ 0,00</strong>
          </div>
        </div>

        <div class="admin-totals" id="orders-totals"></div>

        <div class="charts-grid">
          <div class="admin-list-card">
            <div class="section-header">
              <h3>Vendas por periodo</h3>
              <select class="cart-input" id="sales-range">
                <option value="7">Ultimos 7 dias</option>
                <option value="14">Ultimos 14 dias</option>
                <option value="30" selected>Ultimos 30 dias</option>
              </select>
            </div>
            <div class="chart-wrapper">
              <canvas id="sales-chart" height="120"></canvas>
            </div>
          </div>

          <div class="admin-list-card">
            <div class="section-header">
              <h3>Produtos mais vendidos</h3>
            </div>
            <div class="chart-wrapper">
              <canvas id="top-products-chart" height="120"></canvas>
            </div>
          </div>
        </div>
      </section>

      <section class="section-panel" id="catalogo-section">
        <div class="admin-grid">
          <div class="admin-form-card">
            <div class="section-header">
              <h3 id="form-title">Catalogo de Produtos</h3>
              <button class="primary" id="new-product">Novo produto</button>
            </div>
            <form id="product-form" class="admin-form">
            <input type="hidden" id="product-id" />
            <label>
              Nome
              <input class="cart-input" id="name" type="text" required />
            </label>
            <label>
              Descricao
              <textarea class="cart-input" id="description" rows="3"></textarea>
            </label>
            <div class="admin-row">
              <label>
                Preco
                <input class="cart-input" id="price" type="number" step="0.01" min="0" required />
              </label>
              <label>
                Preco original
                <input class="cart-input" id="original" type="number" step="0.01" min="0" />
              </label>
            </div>
            <div class="admin-row">
              <label>
                Categoria
                <input class="cart-input" id="category" type="text" />
              </label>
              <label>
                Badge
                <input class="cart-input" id="badge" type="text" />
              </label>
            </div>
            <label>
              URL da imagem
              <input class="cart-input" id="imageUrl" type="url" placeholder="https://..." />
            </label>
            <label>
              Upload de imagem
              <input class="cart-input" id="imageFile" type="file" accept="image/*" />
              <span class="admin-muted">Envio rapido (max 5MB). A URL sera preenchida automaticamente.</span>
            </label>
            <div class="image-preview">
              <span class="admin-muted">Preview da imagem</span>
              <div class="image-preview-box">
                <img id="imagePreview" alt="Preview do produto" />
              </div>
            </div>
            <div class="admin-row">
              <label>
                Colecao
                <select class="cart-input" id="collection">
                  <option value="best-sellers">Mais vendidos</option>
                  <option value="launches">Lancamentos</option>
                </select>
              </label>
              <label class="checkbox-row">
                <input type="checkbox" id="active" checked />
                Ativo na loja
              </label>
            </div>
            <div class="admin-actions">
              <button class="primary" type="submit">Salvar</button>
              <button class="ghost" type="button" id="reset-form">Limpar</button>
            </div>
            <p class="admin-status" id="form-status"></p>
            </form>
          </div>

          <div class="admin-list-card">
            <h3>Produtos cadastrados</h3>
            <div class="admin-list" id="product-list"></div>
          </div>
        </div>
      </section>

      <section class="section-panel" id="vendas-section">
        <div class="admin-list-card">
          <div class="section-header">
            <h3>Vendas registradas</h3>
            <span class="admin-muted" id="orders-status">Atualizando...</span>
          </div>
          <div class="admin-filters">
            <input class="cart-input" id="order-search" type="text" placeholder="Buscar por cliente ou produto" />
            <div class="admin-row">
              <label>
                De
                <input class="cart-input" id="order-from" type="date" />
              </label>
              <label>
                Ate
                <input class="cart-input" id="order-to" type="date" />
              </label>
            </div>
            <div class="admin-actions">
              <button class="ghost" id="clear-filters" type="button">Limpar filtros</button>
              <button class="primary" id="export-csv" type="button">Exportar CSV</button>
            </div>
          </div>
          <div class="admin-list" id="orders-list"></div>
        </div>
      </section>

      <section class="section-panel" id="cupons-section">
        <div class="admin-grid">
          <div class="admin-form-card">
            <div class="section-header">
              <h3 id="coupon-form-title">Criar cupom</h3>
            </div>
            <form id="coupon-form" class="admin-form">
              <input type="hidden" id="coupon-id" />
              <label>
                Codigo do cupom
                <input class="cart-input" id="coupon-code-input" type="text" placeholder="GAAK" required />
              </label>
              <label>
                Percentual de desconto
                <input class="cart-input" id="coupon-percent" type="number" min="1" max="100" step="1" required />
              </label>
              <label>
                Validade (data)
                <input class="cart-input" id="coupon-expires" type="date" />
              </label>
              <label>
                Limite de uso (0 = ilimitado)
                <input class="cart-input" id="coupon-limit" type="number" min="0" step="1" />
              </label>
              <label class="checkbox-row">
                <input type="checkbox" id="coupon-active" checked />
                Cupom ativo
              </label>
              <div class="admin-actions">
                <button class="primary" type="submit">Salvar</button>
                <button class="ghost" type="button" id="reset-coupon">Limpar</button>
              </div>
              <p class="admin-status" id="coupon-status"></p>
            </form>
          </div>

          <div class="admin-list-card">
            <h3>Cupons cadastrados</h3>
            <div class="admin-list" id="coupon-list"></div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <div class="modal-overlay" id="admin-modal" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="admin-modal-title">
      <div class="modal-header">
        <div class="modal-title">
          <span class="modal-icon" id="admin-modal-icon">
            <ion-icon name="information-circle"></ion-icon>
          </span>
          <strong id="admin-modal-title">Mensagem</strong>
        </div>
        <button class="icon-btn" id="admin-modal-close" aria-label="Fechar">x</button>
      </div>
      <div class="modal-body" id="admin-modal-body"></div>
      <div class="modal-footer">
        <button class="ghost" id="admin-modal-cancel">Cancelar</button>
        <button class="primary" id="admin-modal-ok">Confirmar</button>
      </div>
    </div>
  </div>

  <script src="admin.js"></script>
</body>
</html>
